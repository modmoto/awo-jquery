<!doctype html>
<html>
    <head>
        <title>
            Simons Webseite
        </title>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

        <style>
            .kommentare {
                background-color: aquamarine;
                margin: 10px;
                padding: 20px;
            }

            .green {
                background-color: green;
            }

            .red {
                background-color: red;
            }

        </style>

        <script>
            $('document').ready(() => {
                let meinButton = $('#mein-button')
                let kommentarContainer = $('#kommentar-container')
                let counterContainer = $('#counter')
                let textField = $('#text-feld')
                let playButton = $('#play-button')
                
                let kommentarWurdeGeadded = false
                let counter = 0

                let audioFile = new Audio('cena.mp3')
                let audioIsPlaying = false

                playButton.click(() => {
                    if (audioIsPlaying) {
                        audioFile.pause()
                        audioFile.currentTime = 0
                        audioIsPlaying = false
                    } else {
                        audioFile.play()
                        audioIsPlaying = true
                    }
                })

                meinButton.click(() => {
                    counter = counter + 1
                    let aktuellerText = textField.val()

                    if(counter > 5) {
                        counterContainer.removeClass('green')
                        counterContainer.addClass('red')
                    }

                    if (!kommentarWurdeGeadded) {
                        kommentarContainer.empty()
                        kommentarWurdeGeadded = true
                    }

                    kommentarContainer.append(`
                    <div class="kommentare">
                        ${aktuellerText} <button>l√∂schen</button>
                    </div>`)
                    counterContainer.text(`Kommentare: ${counter}`)
                })
            })
            
        </script>
    </head>
    <body>
        <input type="text" id="text-feld">
        <input type="text" id="name-feld">

        <button id="mein-button">
            Adde Kommentar
        </button>

        <button id="play-button">
            Play/Stop Musik
        </button>

        <div id="counter" class="green">
            Kommentare: 0
        </div>

        <div id="kommentar-container">
            keine Kommentare bis jetzt
        </div>

    </body>
</html>